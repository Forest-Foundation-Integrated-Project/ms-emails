const AWS = require('aws-sdk');
AWS.config.update({region: 'us-east-1'});

const params = {
  Template: {
    TemplateName: 'resetPassword',
    SubjectPart: 'Recupere sua senha.',
    HtmlPart: '<!doctype html>\r\n<html xmlns=\"http:\/\/www.w3.org\/1999\/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\r\n\r\n<head>\r\n  <title>\r\n  <\/title>\r\n  <!--[if !mso]><!-->\r\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n  <!--<![endif]-->\r\n  <meta http-equiv=\"Content-Type\" content=\"text\/html; charset=UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n  <style type=\"text\/css\">\r\n    #outlook a {\r\n      padding: 0;\r\n    }\r\n\r\n    body {\r\n      margin: 0;\r\n      padding: 0;\r\n      -webkit-text-size-adjust: 100%;\r\n      -ms-text-size-adjust: 100%;\r\n    }\r\n\r\n    table,\r\n    td {\r\n      border-collapse: collapse;\r\n      mso-table-lspace: 0pt;\r\n      mso-table-rspace: 0pt;\r\n    }\r\n\r\n    img {\r\n      border: 0;\r\n      height: auto;\r\n      line-height: 100%;\r\n      outline: none;\r\n      text-decoration: none;\r\n      -ms-interpolation-mode: bicubic;\r\n    }\r\n\r\n    p {\r\n      display: block;\r\n      margin: 13px 0;\r\n    }\r\n  <\/style>\r\n  <!--[if mso]>\r\n        <noscript>\r\n        <xml>\r\n        <o:OfficeDocumentSettings>\r\n          <o:AllowPNG\/>\r\n          <o:PixelsPerInch>96<\/o:PixelsPerInch>\r\n        <\/o:OfficeDocumentSettings>\r\n        <\/xml>\r\n        <\/noscript>\r\n        <![endif]-->\r\n  <!--[if lte mso 11]>\r\n        <style type=\"text\/css\">\r\n          .mj-outlook-group-fix { width:100% !important; }\r\n        <\/style>\r\n        <![endif]-->\r\n  <!--[if !mso]><!-->\r\n  <link href=\"https:\/\/fonts.googleapis.com\/css?family=Roboto:300,400,500,700\" rel=\"stylesheet\" type=\"text\/css\">\r\n  <style type=\"text\/css\">\r\n    @import url(https:\/\/fonts.googleapis.com\/css?family=Roboto:300,400,500,700);\r\n  <\/style>\r\n  <!--<![endif]-->\r\n  <style type=\"text\/css\">\r\n    @media only screen and (min-width:480px) {\r\n      .mj-column-per-100 {\r\n        width: 100% !important;\r\n        max-width: 100%;\r\n      }\r\n    }\r\n  <\/style>\r\n  <style media=\"screen and (min-width:480px)\">\r\n    .moz-text-html .mj-column-per-100 {\r\n      width: 100% !important;\r\n      max-width: 100%;\r\n    }\r\n  <\/style>\r\n  <style type=\"text\/css\">\r\n  <\/style>\r\n<\/head>\r\n\r\n<body style=\"word-spacing:normal;\">\r\n  <div style=\"\">\r\n    <!--[if mso | IE]><table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\" ><tr><td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\"><![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;text-align:center;\">\r\n              <!--[if mso | IE]><table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td class=\"\" style=\"vertical-align:top;width:600px;\" ><![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                        <div style=\"font-family:roboto;font-size:24px;font-weight:700;line-height:1;text-align:left;text-transform:uppercase;color:#00B0AE;\">Ol\u00E1!<\/div>\r\n                      <\/td>\r\n                    <\/tr>\r\n                    <tr>\r\n                      <td align=\"center\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                        <p style=\"border-top:solid 4px #00B0AE;font-size:1px;margin:0px auto;width:100%;\">\r\n                        <\/p>\r\n                        <!--[if mso | IE]><table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-top:solid 4px #00B0AE;font-size:1px;margin:0px auto;width:550px;\" role=\"presentation\" width=\"550px\" ><tr><td style=\"height:0;line-height:0;\"> &nbsp;\r\n<\/td><\/tr><\/table><![endif]-->\r\n                      <\/td>\r\n                    <\/tr>\r\n                    <tr>\r\n                      <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                        <div style=\"font-family:roboto;font-size:16px;line-height:1;text-align:left;color:#000000;\">Voc\u00EA pode redefinir a sua senha no aplicativo Alumnus com o c\u00F3digo abaixo:<\/div>\r\n                      <\/td>\r\n                    <\/tr>\r\n                    <tr>\r\n                      <td align=\"center\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                        <div style=\"font-family:roboto;font-size:22px;font-weight:600;line-height:1;text-align:center;color:#000000;\">{{token}}<\/div>\r\n                      <\/td>\r\n                    <\/tr>\r\n                    <tr>\r\n                      <td align=\"center\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                        <p style=\"border-top:solid 4px #00B0AE;font-size:1px;margin:0px auto;width:100%;\">\r\n                        <\/p>\r\n                        <!--[if mso | IE]><table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-top:solid 4px #00B0AE;font-size:1px;margin:0px auto;width:550px;\" role=\"presentation\" width=\"550px\" ><tr><td style=\"height:0;line-height:0;\"> &nbsp;\r\n<\/td><\/tr><\/table><![endif]-->\r\n                      <\/td>\r\n                    <\/tr>\r\n                    <tr>\r\n                      <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                        <div style=\"font-family:roboto;font-size:12px;line-height:1;text-align:left;color:#777777;\">Se voc\u00EA n\u00E3o solicitou uma nova senha, ignore este e-mail.<\/div>\r\n                      <\/td>\r\n                    <\/tr>\r\n                  <\/tbody>\r\n                <\/table>\r\n              <\/div>\r\n              <!--[if mso | IE]><\/td><\/tr><\/table><![endif]-->\r\n            <\/td>\r\n          <\/tr>\r\n        <\/tbody>\r\n      <\/table>\r\n    <\/div>\r\n    <!--[if mso | IE]><\/td><\/tr><\/table><![endif]-->\r\n  <\/div>\r\n<\/body>\r\n\r\n<\/html>',
    TextPart: 'Olá!\r\nVocê pode redefinir a sua senha no aplicativo Alumnus com o código abaixo:\n{{token}}\nSe você não solicitou uma nova senha, ignore este e-mail.'
  }
};

const templatePromise = new AWS.SES().updateTemplate(params).promise();

templatePromise.then(
  function(data) {
    console.log(data);
  }).catch(
    function(err) {
    console.error(err, err.stack);
  });
